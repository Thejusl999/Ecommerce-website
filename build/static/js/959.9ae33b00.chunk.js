"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[959],{1959:function(t,e,i){i.r(e),i.d(e,{default:function(){return U}});var n=i(885),a=i(2791),s=i(4164),r=i(9743),c=i(2677),l=i(3360),o={modal:"CartItemsList_modal__3jht0",text:"CartItemsList_text__mz08g",closeButton:"CartItemsList_closeButton__kILPL",orderButton:"CartItemsList_orderButton__PmIhh",cartItemsDiv:"CartItemsList_cartItemsDiv__CVfbd",underline:"CartItemsList_underline__1TbyB",img:"CartItemsList_img__MLhmr",pricediv:"CartItemsList_pricediv__WIF6S",li:"CartItemsList_li__C4SHd",quantityLabel:"CartItemsList_quantityLabel__1V6pd",buttonDiv:"CartItemsList_buttonDiv__CHSS6"},d=i(9815),m=i(654),u=i(184),h=function(t){var e=(0,a.useContext)(m.Z),i=(0,a.useContext)(d.Z);(0,a.useEffect)((function(){return i.cartUpdater()}),[]);var n=function(t){var n=t.target.parentElement.parentElement.parentElement.firstChild.lastChild.textContent;fetch("".concat(e.baseUrl,"/").concat(e.userEmail)).then((function(t){return t.json()})).then((function(t){var a,s,r=0,c=0;t.map((function(t){t.title===n&&(r=1,s={title:t.title,price:t.price,imageUrl:t.imageUrl,quantity:t.quantity-1},c=t.quantity,a=t._id)})),r&&c>1?fetch("".concat(e.baseUrl,"/").concat(e.userEmail,"/").concat(a),{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}):r&&1===c&&fetch("".concat(e.baseUrl,"/").concat(e.userEmail,"/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"}}),i.removeItem(n)})).catch((function(t){return console.log(t)}))},s=(0,u.jsx)("ul",{className:o.li,children:i.items.map((function(t){if(t.quantity>0)return(0,u.jsx)("div",{children:(0,u.jsxs)(r.Z,{className:o.cartItemsDiv,children:[(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("img",{src:t.imageUrl,alt:t.title,className:o.img}),(0,u.jsx)("h6",{children:t.title})]}),(0,u.jsx)(c.Z,{children:(0,u.jsx)("div",{className:o.pricediv,children:(0,u.jsx)("h5",{children:t.price})})}),(0,u.jsx)(c.Z,{children:(0,u.jsxs)("div",{className:o.quantityLabel,children:[(0,u.jsx)(l.Z,{variant:"outline-primary",children:t.quantity})," ",(0,u.jsx)(l.Z,{variant:"danger",onClick:n,children:"REMOVE"})," "]})}),(0,u.jsx)("div",{className:o.underline})]})},Math.random())}))}),h=0;return i.items.map((function(t){h+=t.price*t.quantity})),(0,u.jsxs)("div",{className:o.modal,children:[(0,u.jsx)("div",{children:(0,u.jsx)("h3",{className:o.text,children:"CART"})}),(0,u.jsx)(l.Z,{className:o.closeButton,variant:"outline-secondary",onClick:t.onCloseClick,children:"X"})," ",(0,u.jsxs)(r.Z,{className:o.cartItemsDiv,children:[(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("h4",{children:"ITEM"}),(0,u.jsx)("div",{className:o.underline})]}),(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("h4",{children:"PRICE"}),(0,u.jsx)("div",{className:o.underline})]}),(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("h4",{children:"QUANTITY"}),(0,u.jsx)("div",{className:o.underline})]})]}),(0,u.jsx)("h4",{className:o.header,children:s}),(0,u.jsxs)("h3",{style:{textAlign:"right",marginTop:"-10px"},children:["Total $",h]}),(0,u.jsx)(l.Z,{variant:"info",className:o.orderButton,children:"PURCHASE"})," "]})},p=function(t){return(0,u.jsx)(h,{onCloseClick:t.onClick})},x=function(t){return(0,u.jsx)(a.Fragment,{children:s.createPortal((0,u.jsx)(p,{onClick:t.onClose}),document.getElementById("overlay-root"))})},j=i(1523),C=i(7022),_=i(8083),f="ProductsList_imageContainer__FzPxE",g="ProductsList_divTitle__F9WUj",v="ProductsList_imgTitle__u0VP0",b="ProductsList_priceAndButton__d41TI",y="ProductsList_addbtn__XYcXr",N="ProductsList_viewcartbtn__XVM5c",E="ProductsList_imageTransition__guPhM",Z=function(t){var e=(0,a.useContext)(d.Z),i=(0,a.useContext)(m.Z),n=function(t){var n={title:t.target.parentElement.parentElement.firstChild.textContent,price:Number(t.target.parentElement.firstChild.textContent.substring(1)),imageUrl:t.target.parentElement.parentElement.children[1].firstChild.firstChild.src,quantity:1},a="".concat(i.baseUrl,"/").concat(i.userEmail);fetch(a,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),e.addItem([n])};function s(t){var a;fetch("".concat(i.baseUrl,"/").concat(i.userEmail)).then((function(t){return t.json()})).then((function(s){if(0!==s.length){var r=0,c="";s.map((function(i){i.title===t.target.parentElement.parentElement.firstChild.textContent&&(r=1,a={title:i.title,price:i.price,imageUrl:i.imageUrl,quantity:i.quantity+1},c=i._id,e.addItem([a]))})),r?fetch("".concat(i.baseUrl,"/").concat(i.userEmail,"/").concat(c),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}):n(t)}else n(t)}))}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("h2",{className:g,children:"MUSIC"}),(0,u.jsx)(C.Z,{children:(0,u.jsx)(r.Z,{children:t.products.map((function(t){return(0,u.jsxs)(c.Z,{lg:6,md:12,children:[(0,u.jsx)("h2",{className:v,children:t.title}),(0,u.jsx)(C.Z,{className:E,children:(0,u.jsx)(j.rU,{to:"/products/".concat(t.title),children:(0,u.jsx)("img",{src:t.imageUrl,alt:t.title})})}),(0,u.jsxs)("div",{className:b,children:[(0,u.jsxs)("h5",{children:["$",t.price]}),(0,u.jsx)("button",{className:y,onClick:s,children:"ADD TO CART"})]})]},t.id)}))})}),(0,u.jsx)(l.Z,{className:N,variant:"secondary",onClick:t.onShowCart,children:"See the cart"})," "]}),(0,u.jsx)(_.Z,{})]})},I=i(8198),L=i(1218),U=function(){var t=[{title:"Colors",price:100,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%201.png",id:Math.random()},{title:"Black and white Colors",price:50,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%202.png",id:Math.random()},{title:"Yellow and Black Colors",price:70,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%203.png",id:Math.random()},{title:"Blue Color",price:100,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%204.png",id:Math.random()}],e=(0,a.useState)(!1),i=(0,n.Z)(e,2),s=i[0],r=i[1],c=function(){r(!0)};return(0,u.jsxs)(L.Z,{children:[s&&(0,u.jsx)(x,{onClose:function(){r(!1)}}),(0,u.jsx)(I.Z,{onShowCart:c}),(0,u.jsx)(Z,{products:t,onShowCart:c})]})}},9743:function(t,e,i){var n=i(1413),a=i(5987),s=i(1694),r=i.n(s),c=i(2791),l=i(162),o=i(184),d=["bsPrefix","className","as"],m=c.forwardRef((function(t,e){var i=t.bsPrefix,s=t.className,c=t.as,m=void 0===c?"div":c,u=(0,a.Z)(t,d),h=(0,l.vE)(i,"row"),p=(0,l.pi)(),x=(0,l.zG)(),j="".concat(h,"-cols"),C=[];return p.forEach((function(t){var e,i=u[t];delete u[t],e=null!=i&&"object"===typeof i?i.cols:i;var n=t!==x?"-".concat(t):"";null!=e&&C.push("".concat(j).concat(n,"-").concat(e))})),(0,o.jsx)(m,(0,n.Z)((0,n.Z)({ref:e},u),{},{className:r().apply(void 0,[s,h].concat(C))}))}));m.displayName="Row",e.Z=m}}]);
//# sourceMappingURL=959.9ae33b00.chunk.js.map